<template>
  <div class="color">
    <Counter></Counter>
    <button v-bind:style="{width: '100px', background: 'red'}" @click="increase">{{counter}}</button>
    <div>
      <button v-bind:style="{width: '100px', background: '#ccffaa', marginTop: '20px'}" @click="getData">get data</button>
      <p>{{data}}</p>
    </div>
    <Loading v-bind:is-loading="isLoading"></Loading>
  </div>
</template>

<script>
import { mapState, mapMutations, mapActions } from "vuex"
import Counter from "@/container/counter"
import Loading from "@/components/loading"
import { INCREASE, DATA } from "@/store/types.js"

export default {
  components: { Counter, Loading },
  computed: {
    ...mapState({
      counter: state => state.counter.count,
      data: state => state.server.data,
      isLoading: state => state.server.isLoading
    })
  },
  methods: {
    ...mapMutations({
      increase: INCREASE
    }),
    ...mapActions({
      getData: DATA
    })
  },
  beforeCreate: function () {
    console.group('beforeCreate 创建前状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el); //undefined
    console.log("%c%s", "color:red", "data   : " + this.$data); //undefined
    console.log("%c%s", "color:red", "message: " + this.message)
  },
  created: function () {
    console.group('created 创建完毕状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el); //undefined
    console.log("%c%s", "color:red", "data   : " + this.$data); //已被初始化
    console.log("%c%s", "color:red", "message: " + this.message); //已被初始化
  },
  beforeMount: function () {
    console.group('beforeMount 挂载前状态===============》');
    console.log("%c%s", "color:red", "el     : " + (this.$el)); //已被初始化
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data); //已被初始化
    console.log("%c%s", "color:red", "message: " + this.message); //已被初始化
  },
  mounted: function () {
    console.group('mounted 挂载结束状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el); //已被初始化
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data); //已被初始化
    console.log("%c%s", "color:red", "message: " + this.message); //已被初始化
  },
  beforeUpdate: function () {
    console.group('beforeUpdate 更新前状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el);
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data);
    console.log("%c%s", "color:red", "message: " + this.message);
  },
  updated: function () {
    console.group('updated 更新完成状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el);
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data);
    console.log("%c%s", "color:red", "message: " + this.message);
  },
  beforeDestroy: function () {
    console.group('beforeDestroy 销毁前状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el);
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data);
    console.log("%c%s", "color:red", "message: " + this.message);
  },
  destroyed: function () {
    console.group('destroyed 销毁完成状态===============》');
    console.log("%c%s", "color:red", "el     : " + this.$el);
    console.log(this.$el);
    console.log("%c%s", "color:red", "data   : " + this.$data);
    console.log("%c%s", "color:red", "message: " + this.message)
  },
};
</script>

<style lang="scss">
.color {
  color: #aaddbb;
}
</style>
